{"version":3,"sources":["context/persistenceContext.js","dao/MovieDao.js","views/blocks/H2.jsx","views/blocks/SectionContainer.jsx","views/blocks/UL.jsx","views/blocks/LI.jsx","views/components/Button.jsx","views/components/MovieListItem.jsx","views/components/SearchMovieDisplay.jsx","views/components/Nominations.jsx","views/components/SearchMovies.jsx","views/pages/Home.jsx","views/util/stringifyUtil.js","App.js","reportWebVitals.js","index.js"],"names":["movieDao","title","a","axios","get","params","s","type","r","apikey","process","H2","children","className","SectionContainer","classes","classNames","style","minHeight","UL","LI","Button","onClick","disabled","MovieListItem","movie","buttonText","alreadyNominated","nominations","Title","Year","length","SearchMovieDisplay","movies","search","addNomination","map","index","filter","nomination","imdbID","Nominations","removeNomination","SearchMovies","setSearch","inset","htmlFor","icon","faSearch","top","bottom","onChange","e","preventDefault","target","value","name","Home","string","useState","setMovies","window","localStorage","getItem","JSON","parse","setNominations","filterUniqueMovies","result","Map","has","set","push","fetchMovies","searchMovies","response","data","Search","console","log","useEffect","item","setItem","stringify","alert","findIndex","notification","updatedNominations","splice","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.42926fc0.chunk.js","sourcesContent":["import MovieDao from \"../dao/MovieDao\";\n\nconst movieDao = new MovieDao();\n\nexport { movieDao };\n","import axios from \"axios\";\n\nexport default class MovieDao {\n  async searchMovies(title) {\n    return await axios.get(\"https://www.omdbapi.com/\", {\n      params: {\n        s: title,\n        type: \"movie\",\n        r: \"json\",\n        apikey: process.env.REACT_APP_APIKEY,\n      },\n    });\n  }\n}\n","import React from \"react\";\r\n\r\nexport const H2 = ({ children }) => {\r\n  return <h2 className=\"text-lg font-semibold\">{children}</h2>;\r\n};\r\n","import classNames from \"classnames\";\r\n\r\nexport const SectionContainer = ({ className, children }) => {\r\n  const classes = classNames(\"bg-white p-4 rounded-md shadow-sm \", className);\r\n  return (\r\n    <div style={{ minHeight: \"4rem\" }} className={classes}>\r\n      <div>{children}</div>\r\n    </div>\r\n  );\r\n};\r\n","export const UL = ({ children }) => {\r\n  return <ul className=\"ml-8 mr-4\">{children}</ul>;\r\n};\r\n","export const LI = ({ children }) => {\r\n  return <li className=\"py-1\">{children}</li>;\r\n};\r\n","import classNames from \"classnames\";\nimport React from \"react\";\n\nexport const Button = ({ children, onClick, disabled }) => {\n  const className = classNames(\n    \"border-gray-300 bg-gray-50 border-solid border py-1 px-3 rounded-md shadow-sm\",\n    {\n      \"opacity-50 cursor-default\": disabled,\n    }\n  );\n  return (\n    <button onClick={onClick} disabled={disabled} className={className}>\n      {children}\n    </button>\n  );\n};\n","import { LI } from \"../blocks/LI\";\r\nimport { Button } from \"./Button\";\r\n\r\nexport const MovieListItem = ({\r\n  movie,\r\n  buttonText,\r\n  onClick,\r\n  alreadyNominated,\r\n  nominations,\r\n}) => {\r\n  return (\r\n    <LI>\r\n      <div className=\"flex items-center\">\r\n        <p className=\"pr-2\">\r\n          {movie.Title} ({movie.Year})\r\n        </p>\r\n        <Button\r\n          disabled={\r\n            alreadyNominated || (nominations && nominations.length >= 5)\r\n          }\r\n          onClick={onClick}\r\n        >\r\n          {buttonText}\r\n        </Button>\r\n      </div>\r\n    </LI>\r\n  );\r\n};\r\n","import React, { Fragment } from \"react\";\nimport { H2 } from \"../blocks/H2\";\nimport { SectionContainer } from \"../blocks/SectionContainer\";\nimport { UL } from \"../blocks/UL\";\nimport { MovieListItem } from \"./MovieListItem\";\n\nexport const SearchMovieDisplay = ({\n  movies,\n  search,\n  addNomination,\n  nominations,\n}) => {\n  return (\n    <SectionContainer>\n      <H2> Results{search && <> for \"{search}\"</>}</H2>\n      <UL>\n        {!movies.length && search && <p>No results found.</p>}\n        {!!movies.length &&\n          movies.map((movie, index) => {\n            const alreadyNominated = !!nominations.filter(\n              (nomination) => nomination.imdbID === movie.imdbID\n            ).length;\n\n            return (\n              <Fragment key={index}>\n                <MovieListItem\n                  movie={movie}\n                  buttonText=\"Nominate\"\n                  onClick={() => addNomination(movie)}\n                  alreadyNominated={alreadyNominated}\n                  nominations={nominations}\n                />\n              </Fragment>\n            );\n          })}\n      </UL>\n    </SectionContainer>\n  );\n};\n","import React from \"react\";\nimport { H2 } from \"../blocks/H2\";\nimport { SectionContainer } from \"../blocks/SectionContainer\";\nimport { UL } from \"../blocks/UL\";\nimport { MovieListItem } from \"./MovieListItem\";\n\nexport const Nominations = ({ removeNomination, nominations }) => {\n  return (\n    <SectionContainer>\n      <H2>Nominations</H2>\n      {nominations && nominations.length >= 5 && (\n        <p className=\"bg-gray-500 text-white px-2 py-1 my-2 rounded-sm\">\n          Thank you for selecting your nominees!\n        </p>\n      )}\n      <UL>\n        {nominations &&\n          nominations.map((nomination, index) => (\n            <MovieListItem\n              movie={nomination}\n              buttonText=\"Remove\"\n              onClick={removeNomination}\n              key={index}\n            />\n          ))}\n      </UL>\n    </SectionContainer>\n  );\n};\n","import { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { SectionContainer } from \"../blocks/SectionContainer\";\n\nexport const SearchMovies = ({ setSearch }) => {\n  const handleChange = (e) => {\n    e.preventDefault();\n    setSearch(e.target.value);\n  };\n\n  // 50% minus half of height of icon (font size / 2)\n  const inset = \"calc(50% - (1rem / 2))\";\n\n  return (\n    <SectionContainer className=\"flex flex-col\">\n      <label className=\"mb-1\" htmlFor=\"search\">\n        Movie title\n      </label>\n      <div className=\"relative\">\n        <FontAwesomeIcon\n          icon={faSearch}\n          className=\"absolute text-gray-500 left-3\"\n          style={{ top: inset, bottom: inset }}\n        />\n        <input\n          onChange={handleChange}\n          className=\"w-full border-gray-200 border-solid border-2 rounded-sm pl-10 py-1\"\n          type=\"search\"\n          name=\"search\"\n        />\n      </div>\n    </SectionContainer>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { movieDao } from \"../../context/persistenceContext\";\nimport { SearchMovieDisplay } from \"../components/SearchMovieDisplay\";\nimport { Nominations } from \"../components/Nominations\";\nimport { SearchMovies } from \"../components/SearchMovies\";\nimport { parse, stringify } from \"../util/stringifyUtil\";\n\nexport const Home = () => {\n  const [movies, setMovies] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [nominations, setNominations] = useState(\n    parse(window.localStorage.getItem(\"nominations\")) || []\n  );\n\n  // Display search results\n\n  const filterUniqueMovies = (movies) => {\n    const result = [];\n    const map = new Map();\n    for (const movie of movies) {\n      if (!map.has(movie.imdbID)) {\n        map.set(movie.imdbID, true);\n        result.push(movie);\n      }\n    }\n    return result;\n  };\n\n  const fetchMovies = async () => {\n    try {\n      const response = await movieDao.searchMovies(search);\n      const data = response.data.Search;\n      if (!!data) {\n        setMovies(filterUniqueMovies(data));\n      } else {\n        setMovies([]);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  useEffect(() => {\n    fetchMovies();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [search]);\n\n  useEffect(() => {\n    window.localStorage.setItem(\"nominations\", stringify(nominations));\n  }, [nominations]);\n\n  // Change nominations\n\n  const addNomination = (movie) => {\n    if (\n      !!nominations.filter((nomination) => nomination.imdbID === movie.imdbID)\n        .length\n    ) {\n      //should not be reached\n      return alert(\"Oops! Movie has already been nominated.\");\n    }\n    return setNominations([...nominations, movie]);\n  };\n\n  const removeNomination = (movie) => {\n    const index = nominations.findIndex(\n      (notification) => notification.imdbID === movie.imdbID\n    );\n    const updatedNominations = [...nominations];\n    updatedNominations.splice(index, 1);\n    setNominations(updatedNominations);\n  };\n\n  return (\n    <>\n      <h1 className=\"text-2xl font-semibold mb-4\">The Shoppies</h1>\n      <section>\n        <SearchMovies setSearch={setSearch} />\n      </section>\n      <section className=\"grid md:grid-cols-2 mt-4 gap-4\">\n        <SearchMovieDisplay\n          movies={movies}\n          search={search}\n          addNomination={addNomination}\n          nominations={nominations}\n        />\n        <Nominations\n          nominations={nominations}\n          removeNomination={removeNomination}\n        />\n      </section>\n    </>\n  );\n};\n","export const stringify = (item) => {\n  return JSON.stringify(item);\n};\n\nexport const parse = (string) => {\n  return JSON.parse(string);\n};\n","import React from \"react\";\n\nimport { Home } from \"./views/pages/Home\";\n\nfunction App() {\n  return (\n    <div className=\" w-11/12 md:w-5/6 mx-auto min-w-min py-10\">\n      <Home />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}