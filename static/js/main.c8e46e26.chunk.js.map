{"version":3,"sources":["context/persistenceContext.js","dao/MovieDao.js","views/blocks/H2.jsx","views/blocks/SectionContainer.jsx","views/blocks/UL.jsx","views/blocks/LI.jsx","views/components/Button.jsx","views/components/MovieListItem.jsx","views/components/SearchMovieDisplay.jsx","views/components/Nominations.jsx","views/components/SearchMovies.jsx","views/pages/Home.jsx","App.js","reportWebVitals.js","index.js"],"names":["movieDao","title","a","axios","get","params","s","type","r","apikey","process","H2","children","className","SectionContainer","classes","classNames","style","minHeight","UL","LI","Button","onClick","disabled","console","log","MovieListItem","movie","buttonText","alreadyNominated","nominations","Title","Year","length","SearchMovieDisplay","movies","search","addNomination","map","index","filter","nomination","imdbID","Nominations","removeNomination","SearchMovies","setSearch","inset","htmlFor","icon","faSearch","top","bottom","onChange","e","preventDefault","target","value","name","Home","useState","setMovies","setNominations","filterUniqueMovies","result","Map","has","set","push","fetchMovies","searchMovies","response","data","Search","useEffect","alert","findIndex","notification","updatedNominations","splice","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c8e46e26.chunk.js","sourcesContent":["import MovieDao from \"../dao/MovieDao\";\n\nconst movieDao = new MovieDao();\n\nexport { movieDao };\n","import axios from \"axios\";\n\nexport default class MovieDao {\n  async searchMovies(title) {\n    return await axios.get(\"https://www.omdbapi.com/\", {\n      params: {\n        s: title,\n        type: \"movie\",\n        r: \"json\",\n        apikey: process.env.REACT_APP_APIKEY,\n      },\n    });\n  }\n}\n","import React from \"react\";\r\n\r\nexport const H2 = ({ children }) => {\r\n  return <h2 className=\"text-lg font-semibold\">{children}</h2>;\r\n};\r\n","import classNames from \"classnames\";\r\n\r\nexport const SectionContainer = ({ className, children }) => {\r\n  const classes = classNames(\"bg-white p-4 rounded-md shadow-sm \", className);\r\n  return (\r\n    <div style={{ minHeight: \"4rem\" }} className={classes}>\r\n      <div>{children}</div>\r\n    </div>\r\n  );\r\n};\r\n","export const UL = ({ children }) => {\r\n  return <ul className=\"ml-8 mr-4\">{children}</ul>;\r\n};\r\n","export const LI = ({ children }) => {\r\n  return <li className=\"py-1\">{children}</li>;\r\n};\r\n","import classNames from \"classnames\";\r\nimport React from \"react\";\r\n\r\nexport const Button = ({ children, onClick, disabled }) => {\r\n  const className = classNames(\r\n    \"border-gray-300 bg-gray-50 border-solid border py-1 px-3 rounded-md shadow-sm\",\r\n    {\r\n      \"opacity-50 cursor-default\": disabled,\r\n    }\r\n  );\r\n  console.log(disabled);\r\n  return (\r\n    <button onClick={onClick} disabled={disabled} className={className}>\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n","import { LI } from \"../blocks/LI\";\r\nimport { Button } from \"./Button\";\r\n\r\nexport const MovieListItem = ({\r\n  movie,\r\n  buttonText,\r\n  onClick,\r\n  alreadyNominated,\r\n  nominations,\r\n}) => {\r\n  return (\r\n    <LI>\r\n      <div className=\"flex items-center\">\r\n        <p className=\"pr-2\">\r\n          {movie.Title} ({movie.Year})\r\n        </p>\r\n        <Button\r\n          disabled={\r\n            alreadyNominated || (nominations && nominations.length >= 5)\r\n          }\r\n          onClick={onClick}\r\n        >\r\n          {buttonText}\r\n        </Button>\r\n      </div>\r\n    </LI>\r\n  );\r\n};\r\n","import React, { Fragment } from \"react\";\nimport { H2 } from \"../blocks/H2\";\nimport { SectionContainer } from \"../blocks/SectionContainer\";\nimport { UL } from \"../blocks/UL\";\nimport { MovieListItem } from \"./MovieListItem\";\n\nexport const SearchMovieDisplay = ({\n  movies,\n  search,\n  addNomination,\n  nominations,\n}) => {\n  return (\n    <SectionContainer>\n      <H2> Results{search && <> for \"{search}\"</>}</H2>\n      <UL>\n        {!movies.length && search && <p>No results found.</p>}\n        {!!movies.length &&\n          movies.map((movie, index) => {\n            const alreadyNominated = !!nominations.filter(\n              (nomination) => nomination.imdbID === movie.imdbID\n            ).length;\n\n            return (\n              <Fragment key={index}>\n                <MovieListItem\n                  movie={movie}\n                  buttonText=\"Nominate\"\n                  onClick={() => addNomination(movie)}\n                  alreadyNominated={alreadyNominated}\n                  nominations={nominations}\n                />\n              </Fragment>\n            );\n          })}\n      </UL>\n    </SectionContainer>\n  );\n};\n","import React from \"react\";\r\nimport { H2 } from \"../blocks/H2\";\r\nimport { SectionContainer } from \"../blocks/SectionContainer\";\r\nimport { UL } from \"../blocks/UL\";\r\nimport { MovieListItem } from \"./MovieListItem\";\r\n\r\nexport const Nominations = ({ nominations, removeNomination }) => {\r\n  return (\r\n    <SectionContainer>\r\n      <H2>Nominations</H2>\r\n      {nominations.length >= 5 && (\r\n        <p className=\"bg-gray-500 text-white px-2 py-1 my-2 rounded-sm\">\r\n          Thank you for selecting your nominees!\r\n        </p>\r\n      )}\r\n      <UL>\r\n        {nominations &&\r\n          nominations.map((nomination, index) => (\r\n            <MovieListItem\r\n              movie={nomination}\r\n              buttonText=\"Remove\"\r\n              onClick={removeNomination}\r\n              key={index}\r\n            />\r\n          ))}\r\n      </UL>\r\n    </SectionContainer>\r\n  );\r\n};\r\n","import { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { SectionContainer } from \"../blocks/SectionContainer\";\n\nexport const SearchMovies = ({ setSearch }) => {\n  const handleChange = (e) => {\n    e.preventDefault();\n    setSearch(e.target.value);\n  };\n\n  // 50% minus half of height of icon (font size / 2)\n  const inset = \"calc(50% - (1rem / 2))\";\n\n  return (\n    <SectionContainer className=\"flex flex-col\">\n      <label className=\"mb-1\" htmlFor=\"search\">\n        Movie title\n      </label>\n      <div className=\"relative\">\n        <FontAwesomeIcon\n          icon={faSearch}\n          className=\"absolute text-gray-500 left-3\"\n          style={{ top: inset, bottom: inset }}\n        />\n        <input\n          onChange={handleChange}\n          className=\"w-full border-gray-200 border-solid border-2 rounded-sm pl-10 py-1\"\n          type=\"text\"\n          name=\"search\"\n        />\n      </div>\n    </SectionContainer>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\r\nimport { movieDao } from \"../../context/persistenceContext\";\r\nimport { SearchMovieDisplay } from \"../components/SearchMovieDisplay\";\r\nimport { Nominations } from \"../components/Nominations\";\r\nimport { SearchMovies } from \"../components/SearchMovies\";\r\n\r\nexport const Home = () => {\r\n  const [movies, setMovies] = useState([]);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [nominations, setNominations] = useState([]);\r\n\r\n  // Display search results\r\n\r\n  const filterUniqueMovies = (movies) => {\r\n    const result = [];\r\n    const map = new Map();\r\n    for (const movie of movies) {\r\n      if (!map.has(movie.imdbID)) {\r\n        map.set(movie.imdbID, true);\r\n        result.push(movie);\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n\r\n  const fetchMovies = async () => {\r\n    try {\r\n      const response = await movieDao.searchMovies(search);\r\n      const data = response.data.Search;\r\n      if (!!data) {\r\n        setMovies(filterUniqueMovies(data));\r\n      } else {\r\n        setMovies([]);\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchMovies();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [search]);\r\n\r\n  // Change nominations\r\n\r\n  const addNomination = (movie) => {\r\n    if (\r\n      !!nominations.filter((nomination) => nomination.imdbID === movie.imdbID)\r\n        .length\r\n    ) {\r\n      //should not be reached\r\n      return alert(\"Oops! Movie has already been nominated.\");\r\n    }\r\n    return setNominations([...nominations, movie]);\r\n  };\r\n\r\n  const removeNomination = (movie) => {\r\n    const index = nominations.findIndex(\r\n      (notification) => notification.imdbID === movie.imdbID\r\n    );\r\n    const updatedNominations = [...nominations];\r\n    updatedNominations.splice(index, 1);\r\n    setNominations(updatedNominations);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h1 className=\"text-2xl font-semibold mb-4\">The Shoppies</h1>\r\n      <section>\r\n        <SearchMovies setSearch={setSearch} />\r\n      </section>\r\n      <section className=\"grid grid-cols-2 mt-4 gap-4\">\r\n        <SearchMovieDisplay\r\n          movies={movies}\r\n          search={search}\r\n          addNomination={addNomination}\r\n          nominations={nominations}\r\n        />\r\n        <Nominations\r\n          nominations={nominations}\r\n          removeNomination={removeNomination}\r\n        />\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\n\nimport { Home } from \"./views/pages/Home\";\n\nfunction App() {\n  return (\n    <div className=\"w-5/6 mx-auto min-w-min py-10\">\n      <Home />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}